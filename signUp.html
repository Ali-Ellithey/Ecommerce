<!DOCTYPE html>
<html lang="ar">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>تسجيل حساب جديد</title>
    <link rel="stylesheet" href="./css/login.css" />
  </head>

  <body>
    <div class="auth-container" id="userForm">
      <h2>تسجيل حساب جديد</h2>
      <form id="signup-form">
        <div class="input-group">
          <label for="fullname">الاسم الكامل</label>
          <input type="text" id="fullname" required />
        </div>
        <div class="input-group">
          <label for="email">البريد الإلكتروني</label>
          <input type="email" id="email" required />
        </div>
        <div class="input-group">
          <label for="password">كلمة المرور</label>
          <input type="password" id="password" required />
        </div>
        <div class="input-group">
          <label for="confirm-password">تأكيد كلمة المرور</label>
          <input type="password" id="confirm-password" required />
        </div>
        <div class="btnn">
          <button type="submit" class="btn">إنشاء حساب</button>
        </div>
      </form>
      <p>هل لديك حساب بالفعل؟ <a href="login.html">تسجيل الدخول</a></p>
    </div>

    <script>
      // منع المستخدم المسجل دخوله من الدخول لصفحة التسجيل
      if (localStorage.getItem("loggedIn") === "true") {
        window.location.href = "index.html"; // أو الصفحة الرئيسية بعد تسجيل الدخول
      }

      document
        .getElementById("signup-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const fullname = document.getElementById("fullname").value.trim();
          const email = document.getElementById("email").value.trim();
          const password = document.getElementById("password").value;
          const confirmPassword =
            document.getElementById("confirm-password").value;

          // التحقق من تطابق كلمة المرور وتأكيدها
          if (password !== confirmPassword) {
            alert("كلمة المرور وتأكيدها غير متطابقين");
            return;
          }

          // تخزين بيانات المستخدم في localStorage (كمثال فقط)
          const userData = {
            fullname,
            email,
            password, // ملاحظة: في تطبيق حقيقي، لا تحفظ كلمة المرور في localStorage بهذا الشكل
          };

          localStorage.setItem("userData", JSON.stringify(userData));
          localStorage.setItem("loggedIn", "true");

          alert("تم إنشاء الحساب بنجاح!");

          // تحويل المستخدم للصفحة الرئيسية أو صفحة تسجيل الدخول
          window.location.href = "index.html";
        });
    </script>
  </body>
</html>
